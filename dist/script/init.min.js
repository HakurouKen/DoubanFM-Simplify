!function(a,b,c){function d(){isOrginal?(k.fadeOut(1e3,function(){c(".player-container.paused").click(),j.fadeIn(1e3,function(){a.isOrginal=!1}),j.find("li[data-cid="+(channel.getCurChannel()||0)+"]").addClass("selected")}),m.html("")):(j.fadeOut(1e3,function(){c(".fm-player a.btn.pause").click(),k.find("#fm-section").css("margin-top","0px"),k.find("#fm-section2").css("margin-top","0px"),k.find("#fm-section-app-entry").css("margin-top","0px"),k.find("#fm-bg").css("margin-top","0px"),k.fadeIn(1e3,function(){a.isOrginal=!0})}),m.html(n))}function e(b,d,e){b=b||c("body"),e=e||0;var f,g=Utils.getCookie("ck");return g?c.get(chrome.extension.getURL("template/channel-template.js")).done(function(h){c.when(c.get("/j/fav_channels?ck="+g)).done(function(c){var g,i=Handlebars.compile(h),j={channel_list:[{channels:[{id:"0",name:"我的私人兆赫"},{id:"-3",name:"我的红心兆赫"}],area:"system_chls"},{title:"我的收藏",channels:c.channels,area:"fav_chls"}]};b.append(i(j)),g=b.find(".channel-list-container"),g.height()>b.height()&&b.jscrollbar({width:5,color:"rgb(168,168,168)",opacity:.2,position:"inner",borderRadius:2,mouseScrollDirection:"vertical"}),a.channel=f=Channel(g,d,e),bindChannel(g,f,d,e)})}):void 0}function f(b){return b=b||c("body"),c.get(chrome.extension.getURL("template/player-template.js")).done(function(d){b.append(d),a.player=Player("#fm-player-container"),bindPlayer(player),c.get("/j/change_channel?fcid=undefined&tcid="+(c("#fm-html5 ul.channel-list li.channel.selected").data("cid")||0)+"&area=songchannel").done(function(){player.getNextSongList("n",function(a){player.initSong(a.song[0]),a.song[0].like&&c("#fm-player-container a.btn.heart").addClass("hearted")})})})}function g(){return o.wrapAll('<div id="origin"></div>'),k=c("#origin").fadeOut(1e3,function(){isOrginal=!1}),m.html(""),c.get(chrome.extension.getURL("template/frame-template.js")).done(function(a){l.append(a),j=c("#fm-html5").css("display","none")})}function h(){return c.get(chrome.extension.getURL("template/button-template.js")).done(function(a){l.append(a),c("#toggleView").click(function(){d()})})}function i(){g().then(function(){f(j.find(".fm-bar")).done(function(){e(j.find(".channel-bar"),player).done(function(){h(),j.fadeIn(1e3)})})})}{var j,k,l=c("body"),m=c("#radioplayer"),n=m.clone().wrap("<div></div>").parent().html(),o=c("body").contents();c("#fm-player-container")}a.isOrginal,i()}(window,document,jQuery);